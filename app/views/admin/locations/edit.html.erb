<h1><%=t('admin.locations.edit.title')%></h1>

<% if @location.errors.any? %>
    <div class="error_explanation small-8 small-centered columns">
      <h6><%= @location.errors.count %> <%=t('admin.forms.message.error')%> :</h6>

      <ul>
        <% @location.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
<% end %>

<%= form_for(@location, url: admin_location_path) do |f| %>


    <div class="row">

      <div class="infos small-9 columns">
        <ul class="tabs" data-tab>
          <li class="tab-title active"><a href="#panel1"><%=t('admin.language.fr')%></a></li>
          <li class="tab-title"><a href="#panel2"><%=t('admin.language.en')%></a></li>
        </ul>

        <div class="tabs-content">

          <div class="content contained active" id="panel1">

            <table>
              <tr><td class="cell1"><%= f.label t('activerecord.attributes.locations.name_fr')%></td>
                <td class="cell2"><%= f.text_field :name_fr %></td>
              </tr>
              <tr>
                <td class="cell1"><%= f.label t('activerecord.attributes.locations.description_fr')%></td>
                <td class="cell2"><%= f.text_area :description_fr, :class => 'ckeditor' %></td>
              </tr>
            </table>

          </div>

          <div class="content contained" id="panel2">

            <table>
              <tr>
                <td class="cell1"><%= f.label t('activerecord.attributes.locations.name_en')%></td>
                <td class="cell2"><%= f.text_field :name_en%></td>
              </tr>
              <tr>
                <td class="cell1"><%= f.label t('activerecord.attributes.locations.description_en')%></td>
                <td class="cell2"><%= f.text_area :description_en, :class => 'ckeditor' %></td>
              </tr>
            </table>

          </div>

        </div>
      </div>

      <div class="info-image small-3 columns">
        <%= f.label t('activerecord.attributes.locations.main_image')%>
        <%= f.file_field :main_image %>
      </div>

    </div>

    <div class="submit">
      <%= f.submit t('admin.buttons.save'), :class => 'button radius tiny info' %>
    </div>
<% end %>


<div class="projects">
  <h1><%=t('admin.projects.index.title')%></h1>

  <%= link_to t('admin.buttons.new'), new_admin_project_path(:location_id => @location.id), :class => 'button radius tiny success' %>
  <div class="table-container">
      <table>
        <thead>
        <tr>
          <th><%=t('activerecord.attributes.albums.name_fr')%></th>
          <th><%=t('activerecord.attributes.albums.name_en')%></th>
          <th></th>
          <th></th>
          <th></th>
        </tr>
        </thead>

        <tbody>
        <% @projects.each do |project| %>
            <tr>
              <td><%= project.name_fr %></td>
              <td><%= project.name_en %></td>
              <td><%= link_to t('admin.buttons.show'), admin_project_path(project), :class => 'button radius tiny info' %></td>
              <td><%= link_to t('admin.buttons.edit'), edit_admin_project_path(project), :class => 'button radius tiny secondary' %></td>
              <td><%= link_to t('admin.buttons.delete'), admin_project_delete_path(project), :class => 'button radius tiny alert' %></td>
            </tr>
        <% end %>
        </tbody>
      </table>
    </div>
</div>